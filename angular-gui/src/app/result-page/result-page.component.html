<div class="header">
  <a [routerLink]="'../'">
    <div class="icon-container">
      <!-- @formatter:off  -->
      <svg class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"> <path d="M141.367,116.518c-7.384-7.39-19.364-7.39-26.748,0c-27.416,27.416-40.891,65.608-36.975,104.79 c0.977,9.761,9.2,17.037,18.803,17.037c0.631,0,1.267-0.032,1.898-0.095c10.398-1.04,17.983-10.316,16.943-20.707 c-2.787-27.845,6.722-54.92,26.079-74.278C148.757,135.882,148.757,123.901,141.367,116.518z"/> <path d="M216.276,0C97.021,0,0,97.021,0,216.276s97.021,216.276,216.276,216.276s216.276-97.021,216.276-216.276 S335.53,0,216.276,0z M216.276,394.719c-98.396,0-178.443-80.047-178.443-178.443S117.88,37.833,216.276,37.833 c98.39,0,178.443,80.047,178.443,178.443S314.672,394.719,216.276,394.719z"/> <path d="M506.458,479.71L368.999,342.252c-7.39-7.39-19.358-7.39-26.748,0c-7.39,7.384-7.39,19.364,0,26.748L479.71,506.458 c3.695,3.695,8.531,5.542,13.374,5.542c4.843,0,9.679-1.847,13.374-5.542C513.847,499.074,513.847,487.094,506.458,479.71z"/> </svg>
      <!-- @formatter:on -->
    </div>
    <div class="info">
      <div class="route">
        <span>{{getStationName(departureStationId)}}</span>
        <!-- @formatter:off  -->
        <svg class="arrow" version="1.1" xmlns="http://www.w3.org/2000/svg"  x="0px" y="0px" viewBox="0 0 268.832 268.832" style="enable-background:new 0 0 268.832 268.832;" xml:space="preserve"> <g> <path d="M265.171,125.577l-80-80c-4.881-4.881-12.797-4.881-17.678,0c-4.882,4.882-4.882,12.796,0,17.678l58.661,58.661H12.5 c-6.903,0-12.5,5.597-12.5,12.5c0,6.902,5.597,12.5,12.5,12.5h213.654l-58.659,58.661c-4.882,4.882-4.882,12.796,0,17.678 c2.44,2.439,5.64,3.661,8.839,3.661s6.398-1.222,8.839-3.661l79.998-80C270.053,138.373,270.053,130.459,265.171,125.577z"/> </g> </svg>
        <!-- @formatter:on -->
        <span>{{getStationName(arrivalStationId)}}</span>
      </div>
      <div class="date">{{ departureDateTime | date:'fullDate' }}</div>
    </div>
  </a>
</div>

<div class="entries">
  <ng-container *loadingUntil="entries != null">
    <ng-container *ngIf="entries.length > 0; else noEntriesFound">
      <a
        *ngFor="let entry of entries"
        class="entry"
        queryParamsHandling="preserve"
        [routerLink]="['', { outlets: { drawer: ['schedule', entry.id] } }]"
      >

        <div class="timeline">

          <div class="dep-time">
            {{entry.departure.dateTime | date: 'shortTime'}}
          </div>
          <div class="dep-name">
            {{getStationName(entry.departure.id)}}
          </div>

          <div class="length">({{getLength(entry)}})</div>

          <div class="arr-time">
            {{entry.arrival.dateTime | date: 'shortTime'}}
          </div>
          <div class="arr-name">
            {{getStationName(entry.arrival.id)}}
          </div>

          <div class="pin dep-pin"></div>
          <div class="pipe"></div>
          <div class="pin arr-pin"></div>

        </div>

        <div class="train-info">
          <div><span i18n>Train:</span> {{entry.train.trainNumber}}</div>
          <div><span i18n>Starting price:</span> {{entry.ticketStartingPrice}}</div>
          <div><span i18n>Late:</span> {{getLatency(entry.latency)}}</div>
        </div>

      </a>
    </ng-container>
  </ng-container>
</div>


<ng-template #noEntriesFound>
  <div i18n>No entries found.</div>
</ng-template>
